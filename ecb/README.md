Copyright &copy; Kirk Rader 2024

# European Central Bank Exchange Rate Data

* `ecb.Datum` is a `struct` representing exchange data from a given currency to
  Euros.

* `ecb.Data` is an alias for `[]ecb.Datum`.

* `ecb.Fetch(string, ecb.Parser)` gets data from the specified URL via HTTP and
  converts it using parsing function.

* `ParseXML(reader io.Reader)` parses a XML document to produce `ecb.Data`.

* `ParseCSV(reader io.Reader)` parses a CSV document to produce `ecb.Data`.

The `ecb.Data` type is designed to be compatible with JSON, noSQL data stores,
etc. at the cost of some denormalization of the original ECB data.

---

## `go doc -all`

```
package ecb // import "parasaurolophus/go/ecb"


CONSTANTS

const (

        // URL for the exchange rate CSV data for the current day.
        DailyCSV = "https://www.ecb.europa.eu/stats/eurofxref/eurofxref.zip"

        // URL for the exchange rate XML data for the current day.
        DailyXML = "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml"

        // URL for the historical exchange rate CSV data.
        HistoricalCSV = "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist.zip"

        HistoricalXML = "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist.xml"

        // URL for the exchange rate XML data for the last 90 days.
        NinetyDayXML = "https://www.ecb.europa.eu/stats/eurofxref/eurofxref-hist-90d.xml"
)

TYPES

type Data []Datum
    List of ECB exchange rate data.

func Fetch(url string, parser Parser) (Data, error)
    Fetch ECB exchange rate data from the given URL and parse it.

func ParseCSV(reader io.Reader) (Data, error)
    Parse the ECB CSV data from the given reader.

func ParseXML(reader io.Reader) (Data, error)
    Parse the ECB XML data from the given reader.

type Datum struct {

        // Unix time at which the ECB data was parsed.
        Timestamp int64 `json:"timestamp,omitempty"`

        // Value of time attribute in the ECB data.
        Time string `json:"time,omitempty"`

        // ISO-4217 currency id.
        Currency string `json:"currency,omitempty"`

        // Exchange rate from the given currency to euros on the date indicated
        // in the ECB data.
        Rate float64 `json:"rate,omitempty"`
}
    Exchange rate information for converting from a given currency to euros as
    converted from the ECB's data model to a Go struct.

    Note that Timestamp is generated by the Parse(io.Reader) function in
    this package while Time is copied (denormalized) from the ECB's XML data
    structure. Both are included so as to enable sanity checks and analyses,
    such as how frequently the data actually changes.

    See
    https://www.ecb.europa.eu/stats/policy_and_exchange_rates/euro_reference_exchange_rates/html/index.en.html

type Parser func(io.Reader) (Data, error)
```
